<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <!-- Part of the open-source Proximity system (see LICENSE for
      copyright and license information). -->
      <title>Constraint restrictions</title>
      <link rel="stylesheet" href="prox.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
      <link rel="start" href="index.html" title="Proximity 4.3 QGraph Guide">
      <link rel="up" href="ch06s04.html" title="Implementation in Proximity">
      <link rel="prev" href="ch06s04s03.html" title="Nested subqueries">
      <link rel="next" href="ch06s05.html" title="Summary">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div xmlns:exsl="http://exslt.org/common" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="ch06s04s03.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Implementation in Proximity</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="ch06s05.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="sect2" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a name="d0e7205"></a>Constraint restrictions
                  </h3>
               </div>
            </div>
         </div><a class="indexterm" name="d0e7208"></a><a class="indexterm" name="d0e7213"></a><p>Proximity requires that 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e228"><span class="glossterm">constraints</span></a> that cross subquery
            boundaries must obey specific 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e555"><span class="glossterm">annotation</span></a>
            requirements.  When a 
            constraint compares items that do not fall in the same subquery, one
            of the elements being compared in the constraint must be 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e573"><span class="glossterm">optional</span></a>,
            <a class="indexterm" name="d0e7229"></a>
            <a class="indexterm" name="d0e7237"></a>
            that is, it must be annotated with either
            <code class="token">[0..]</code> or
            <code class="token">[0..<em class="replaceable"><code>j</code></em>]</code>.
            This annotation restriction is illustrated in the example query in
            <a href="ch06s02s02.html#fig_subq_db03_q02" title="Figure&nbsp;6.18.&nbsp;Two degrees of separation query with constraint [SubQ_DB03_Q02.qg2.xml]">Figure&nbsp;6.18</a>.  This query compares an
            element in the subquery (the <em class="token">2degrees</em>
            vertex) with an element in the main query (the
            <em class="token">start</em> vertex).  The
            <em class="token">2degrees</em> vertex is annotated with
            <code class="token">[0..]</code>, making the match to this vertex
            optional and thus making this a valid Proximity query.
         </p>
         <p>The restriction that one of the constrained elements be optional
            applies whether one of the elements is in a subquery and
            the other is in the main query, or both elements are in two distinct
            subqueries.  Constraints that compare elements within the same
            subquery are not subject to such annotation requirements.
            
         </p>
         <p>Another Proximity implementation restriction addresses
            constraints when one of the constrained items is outside the subquery
            boundary while the other item is inside the subquery box.  In this
            case, the item outside the subquery boundary cannot be annotated.
            Proximity prohibits constraints between an annotated item and an item
            within an annotated subquery.
         </p>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="ch06s04s03.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="ch06s04.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="ch06s05.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Nested subqueries&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;Summary</td>
            </tr>
         </table>
      </div>
   </body>
</html>