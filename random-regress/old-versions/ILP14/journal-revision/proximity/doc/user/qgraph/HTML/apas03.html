<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <!-- Part of the open-source Proximity system (see LICENSE for
      copyright and license information). -->
      <title>Working with Vertices and Edges</title>
      <link rel="stylesheet" href="prox.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
      <link rel="start" href="index.html" title="Proximity 4.3 QGraph Guide">
      <link rel="up" href="apa.html" title="Appendix&nbsp;A.&nbsp;Using the Proximity Query Editor">
      <link rel="prev" href="apas02.html" title="Working with the Query Editor">
      <link rel="next" href="apas04.html" title="Working with Updates">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div xmlns:exsl="http://exslt.org/common" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="apas02.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Appendix&nbsp;A.&nbsp;Using the Proximity Query Editor</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="apas04.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="sect1" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both"><a name="d0e8031"></a>Working with Vertices and Edges
                  </h2>
               </div>
            </div>
         </div>
         <p><a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e824"><span class="glossterm">Vertices</span></a> and
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e310"><span class="glossterm">edges</span></a> are the foundation of
            QGraph queries.  All 
            queries must contain at least one vertex.  Queries with multiple
            vertices must form a connected graph.
         </p>
         <h3><a name="qe_addvertex"></a>To add a vertex:
         </h3><a class="indexterm" name="d0e8045"></a><a class="indexterm" name="d0e8050"></a><p>To add new vertices to a query, enter vertex mode and use the
            mouse to position the new vertex.
            
         </p>
         <div class="orderedlist">
            <ol type="1" compact>
               <li>
                  <p>In the Query Editor toolbar, click <img src="images/QE_BUTTON_VertexTool.png" width="18"> or press
                       <span class="keycap">Ctrl-2</span> to choose the vertex tool and enter vertex
                       mode.  The Query Editor remains in vertex mode (all clicks in the
                       Query Editor display area create a new vertex) until you change modes
                       by choosing a different tool from the toolbar.
                  </p>
               </li>
               <li>
                  <p>Click in the Query Editor display area. The Query Editor
                       creates a new vertex.
                  </p>
               </li>
               <li>
                  <p>[Optional] Provide a name
                     <a class="indexterm" name="d0e8072"></a>
                     <a class="indexterm" name="d0e8078"></a>
                     <a class="indexterm" name="d0e8084"></a>
                       for the new vertex. (Alternatively,
                       you can continue using the default name provided by the Query
                       Editor.)
                       
                  </p>
                  <div class="orderedlist">
                     <ol type="a" compact>
                        <li>
                           <p>In the Query Editor toolbar, click <img src="images/QE_BUTTON_SelectTool.png" width="18"> or press
                                  <span class="keycap">Ctrl-1</span> to choose the selection tool and enter
                                  selection mode.
                           </p>
                        </li>
                        <li>
                           <p>Click the vertex to be re-named.  The Query Editor
                                  displays the vertex&#8217;s properties in the element properties
                                  pane.
                           </p>
                        </li>
                        <li>
                           <p>In the element properties pane,
                              <a class="indexterm" name="d0e8105"></a>
                              <a class="indexterm" name="d0e8111"></a>
                                  click the current (default)
                                  name for this vertex.  Edit the name and press
                                  <span class="keycap">Tab</span> or <span class="keycap">Return</span>.
                           </p>
                        </li>
                     </ol>
                  </div>
               </li>
            </ol>
         </div>
         <p>
            
         </p>
         <h3><a name="qe_addedge"></a>To add an edge:
         </h3><a class="indexterm" name="d0e8126"></a><a class="indexterm" name="d0e8131"></a><p>To add new edges to a query, enter edge mode and use the
            mouse to draw the new edge.
            
         </p>
         <div class="orderedlist">
            <ol type="1" compact>
               <li>
                  <p>In the Query Editor toolbar, click <img src="images/QE_BUTTON_EdgeTool.png" width="18"> or press
                       <span class="keycap">Ctrl-3</span> to choose the edge tool and enter edge mode.
                       The Query Editor remains in edge mode (clicks in the
                       Query Editor display area create a new edge) until you change modes
                       by choosing a different tool from the toolbar.
                  </p>
               </li>
               <li>
                  <p>Drag the mouse from one vertex to another vertex.  The
                       Query Editor creates a <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e279"><span class="glossterm">directed edge</span></a> from the
                       starting vertex to the ending vertex.
                  </p>
               </li>
               <li>
                  <p>[Optional] Provide a name
                     <a class="indexterm" name="d0e8156"></a>
                     <a class="indexterm" name="d0e8162"></a>
                       for the new edge. (Alternatively,
                       you can continue using the default name provided by the Query
                       Editor.)
                       
                  </p>
                  <div class="orderedlist">
                     <ol type="a" compact>
                        <li>
                           <p>In the Query Editor toolbar, click <img src="images/QE_BUTTON_SelectTool.png" width="18"> or press
                                  <span class="keycap">Ctrl-1</span> to choose the selection tool and enter
                                  selection mode.
                           </p>
                        </li>
                        <li>
                           <p>Click the edge to be re-named.  The Query Editor
                                  displays the edge&#8217;s properties in the element properties
                                  pane.
                           </p>
                        </li>
                        <li>
                           <p>In the element properties pane, click the current (default)
                                  name for this edge.  Edit the name and press
                                  <span class="keycap">Tab</span> or <span class="keycap">Return</span>.
                           </p>
                        </li>
                     </ol>
                  </div>
               </li>
            </ol>
         </div>
         <p>
            
         </p>
         <p>Edges may be directed or 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e803"><span class="glossterm">undirected</span></a>.
            Directionality is an edge 
            property and is set in the element properties pane.
         </p>
         <div class="orderedlist">
            <p xmlns:exsl="http://exslt.org/common" class="title"><b>To add an undirected edge:</b></p><a class="indexterm" name="d0e8198"></a><ol type="1" compact>
               <li>
                  <p>Create a directed edge.</p>
               </li>
               <li>
                  <p>Click <img src="images/QE_BUTTON_SelectTool.png" width="18"> or press <span class="keycap">Ctrl-1</span> to choose
                       the selection tool.
                  </p>
               </li>
               <li>
                  <p>Click the edge to be modified</p>
               </li>
               <li>
                  <p>In the element properties pane, change the value of
                       <span class="guilabel">Is Directed</span> from <strong class="userinput"><code>true</code></strong> to
                       <strong class="userinput"><code>false</code></strong>.
                  </p>
               </li>
               <li>
                  <p>Press <span class="keycap">Tab</span> or <span class="keycap">Return</span>.
                  </p>
               </li>
            </ol>
         </div>
         <div class="orderedlist">
            <p xmlns:exsl="http://exslt.org/common" class="title"><b>To change edge direction:</b></p><a class="indexterm" name="d0e8242"></a><ol type="1" compact>
               <li>
                  <p>Click <img src="images/QE_BUTTON_SelectTool.png" width="18"> or press <span class="keycap">Ctrl-1</span> to choose
                       the selection tool.
                  </p>
               </li>
               <li>
                  <p>Click the edge to be modified.</p>
               </li>
               <li>
                  <p>In the <span><strong class="guimenu">Edit</strong></span> menu, choose <span><strong class="guimenuitem">Flip
                             Edge Direction</strong></span> or press
                       <span class="keycap">Ctrl-F</span>.
                  </p>
               </li>
            </ol>
         </div>
         <p>A <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e721"><span class="glossterm">self-link</span></a> edge
            connects a single vertex to itself and matches 
            links in the database that connect an object to itself.
         </p>
         <div class="orderedlist">
            <p xmlns:exsl="http://exslt.org/common" class="title"><b>To add a self-link (loop) edge:</b></p><a class="indexterm" name="d0e8278"></a><a class="indexterm" name="d0e8283"></a><ol type="1" compact>
               <li>
                  <p>Click <img src="images/QE_BUTTON_EdgeTool.png" width="18"> to choose the edge tool.
                  </p>
               </li>
               <li>
                  <p>Click the target vertex without dragging. The Query Editor
                       creates an edge that begins and ends at the target vertex (a
                       self-link or loop edge).
                  </p>
               </li>
            </ol>
         </div>
         <h3><a name="qe_selectelement"></a>To select a query
             element:
         </h3>
         <p>Use selection mode
            <a class="indexterm" name="d0e8300"></a>
            <a class="indexterm" name="d0e8304"></a>
            to re-position query elements in the display
            and to select existing query elements for editing,
            such as adding or modifying conditions and annotations on that element.
            
         </p>
         <div class="orderedlist">
            <ol type="1" compact>
               <li>
                  <p>In the Query Editor toolbar, click <img src="images/QE_BUTTON_SelectTool.png" width="18"> or press
                       <span class="keycap">Ctrl-1</span> to choose the selection tool and enter
                       selection mode.
                  </p>
               </li>
               <li>
                  <p>Click the query element you want to select. The Query Editor
                       draws handles around the selected element.
                  </p>
               </li>
            </ol>
         </div>
         <p>
            The Query Editor remains in selection mode (clicks in the
            Query Editor display select query elements) until you change modes
            by choosing a different tool from the toolbar.
         </p>
         <h3><a name="qe_delelement"></a>To delete a vertex or
             edge:
         </h3><a class="indexterm" name="d0e8327"></a><a class="indexterm" name="d0e8332"></a><a class="indexterm" name="d0e8337"></a><p>Deleting a vertex also deletes any edges linked to that
            vertex.  Make sure that your query remains connected after deleting
            any elements.
         </p>
         <div class="orderedlist">
            <ol type="1" compact>
               <li>
                  <p>Click <img src="images/QE_BUTTON_SelectTool.png" width="18"> or press <span class="keycap">Ctrl-1</span> to choose
                       the selection tool.
                  </p>
               </li>
               <li>
                  <p>Click the element to be deleted.</p>
               </li>
               <li>
                  <p>Press <span class="keycap">Delete</span>.
                  </p>
               </li>
            </ol>
         </div>
         <h3><a name="qe_addcondition"></a>To add or edit a condition:
         </h3><a class="indexterm" name="d0e8366"></a><a class="indexterm" name="d0e8371"></a><p><a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e162"><span class="glossterm">Conditions</span></a> and 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e555"><span class="glossterm">annotations</span></a> are
            properties of a specific vertex 
            or edge.  Select the element to be modified and use the element
            properties pane
            <a class="indexterm" name="d0e8383"></a>
            <a class="indexterm" name="d0e8389"></a>
            to add or edit any conditions or annotations on that element.
         </p>
         <p><a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e156"><span class="glossterm">Complex conditions</span></a>
            <a class="indexterm" name="d0e8397"></a>
            must be entered using <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e292"><span class="glossterm">disjunctive normal form</span></a>
            <a class="indexterm" name="d0e8404"></a>
            in <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e601"><span class="glossterm">prefix notation</span></a>.
            <a class="indexterm" name="d0e8411"></a>
            See <a href="ch03s05s04.html" title="Complex conditions in Proximity">&#8220;Complex conditions in Proximity&#8221;</a>
            for additional information on entering complex conditions in the Query
            Editor.
         </p>
         <div class="orderedlist">
            <ol type="1" compact>
               <li>
                  <p>Click <img src="images/QE_BUTTON_SelectTool.png" width="18"> or press <span class="keycap">Ctrl-1</span> to choose
                       the selection tool.
                  </p>
               </li>
               <li>
                  <p>Click the vertex or edge that requires a condition.</p>
               </li>
               <li>
                  <p>In the element properties pane, click in the Value
                       column for <span class="guilabel">Condition</span>.
                  </p>
               </li>
               <li>
                  <p>Enter the new condition or edit the value of the current
                       condition.
                  </p>
               </li>
               <li>
                  <p>Press <span class="keycap">Tab</span> or <span class="keycap">Return</span>.
                  </p>
               </li>
            </ol>
         </div>
         <h3><a name="qe_addannot"></a>To add or edit an annotation:
         </h3><a class="indexterm" name="d0e8452"></a><a class="indexterm" name="d0e8457"></a><p>All edges adjacent to an annotated vertex must also be
            annotated.
            <a class="indexterm" name="d0e8464"></a>
            <a class="indexterm" name="d0e8468"></a>
            To help avoid validation
            <a class="indexterm" name="d0e8474"></a>
            <a class="indexterm" name="d0e8478"></a>
            errors
            <a class="indexterm" name="d0e8484"></a>
            <a class="indexterm" name="d0e8488"></a>
            due to unannotated edges,
            you can elect to automatically add a <code class="token">[1..]</code>
            annotation to any new edge (see <a href="apas03.html#qe_annotpref">To change automatic annotation preferences</a>,
            below, for instructions).
         </p>
         <div class="orderedlist">
            <ol type="1" compact>
               <li>
                  <p>Click <img src="images/QE_BUTTON_SelectTool.png" width="18"> to choose the selection tool and select the
                       vertex or edge to be annotated.
                  </p>
               </li>
               <li>
                  <p>In the element properties pane, click in the value
                       column for <span class="guilabel">Annotation</span>.
                  </p>
               </li>
               <li>
                  <p>Enter the annotation text.</p>
               </li>
               <li>
                  <p>Press <span class="keycap">Tab</span> or <span class="keycap">Return</span>.
                  </p>
               </li>
            </ol>
         </div>
         <h3><a name="qe_annotpref"></a>To change automatic annotation
            preferences:
         </h3><a class="indexterm" name="d0e8527"></a><a class="indexterm" name="d0e8532"></a><p>The Query Editor provides the option of automatically annotating
            every new edge with <code class="token">[1..]</code>.  Because edges
            adjacent to annotated vertices must be annotated, adding this
            annotation automatically can help to prevent validation errors.  The 
            <code class="token">[1..]</code> annotation is the most common edge
            annotation and is typically the correct edge annotation for most
            queries involving annotated vertices.  Adding a 
            <code class="token">[1..]</code> annotation to edges that are not adjacent to
            annotated vertices is rarely a problem for most datasets, although
            care should be taken to understand how this differs from unannotated
            edges when the dataset contains instances of multiple links connecting
            two objects.
            
         </p>
         <div class="itemizedlist">
            <ul type="disc" compact>
               <li>
                  <p>In the <span><strong class="guimenu">Edit</strong></span> menu, choose <span><strong class="guimenuitem">Add
                             [1..] To New Edges</strong></span>.
                  </p>
               </li>
            </ul>
         </div>
         <p>
            
         </p>
         <p>Selecting the <span><strong class="guimenuitem">Add [1..] To New Edges</strong></span>
            command toggles the automatic edge annotation behavior:
            
         </p>
         <div class="itemizedlist">
            <ul type="disc" compact>
               <li>
                  <p>If automatic edge annotation is disabled, choosing this
                       command turns <span class="strong"><strong>on</strong></span> automatic edge
                       annotation.
                  </p>
               </li>
               <li>
                  <p>If automatic edge annotation is enabled, choosing this
                       command turns <span class="strong"><strong>off</strong></span> automatic edge
                       annotation.
                  </p>
               </li>
            </ul>
         </div>
         <p>
            
         </p>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="apas02.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="apa.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="apas04.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Working with the Query Editor&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;Working with Updates</td>
            </tr>
         </table>
      </div>
   </body>
</html>