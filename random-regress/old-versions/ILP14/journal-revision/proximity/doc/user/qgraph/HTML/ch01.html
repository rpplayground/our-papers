<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <!-- Part of the open-source Proximity system (see LICENSE for
      copyright and license information). -->
      <title>Chapter&nbsp;1.&nbsp;Introduction</title>
      <link rel="stylesheet" href="prox.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
      <link rel="start" href="index.html" title="Proximity 4.3 QGraph Guide">
      <link rel="up" href="index.html" title="Proximity 4.3 QGraph Guide">
      <link rel="prev" href="index.html" title="Proximity 4.3 QGraph Guide">
      <link rel="next" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Query Basics">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div xmlns:exsl="http://exslt.org/common" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="index.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">&nbsp;</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="chapter" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title"><a name="qg_ch_intro"></a>Chapter&nbsp;1.&nbsp;Introduction
                  </h2>
               </div>
            </div>
         </div>
         <div class="toc">
            <p><b>Table of Contents</b></p>
            <dl>
               <dt><span class="sect1"><a href="ch01.html#d0e291">Using the QGraph Guide</a></span></dt>
            </dl>
         </div>
         <p><a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e661"><span class="glossterm">QGraph</span></a> is a visual query language
            designed to support <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e456"><span class="glossterm">knowledge discovery</span></a> in
            large graph databases.  Such databases are used to represent 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e679"><span class="glossterm"><span class="emphasis"><em>relational</em></span> data</span></a>,
            that is, data that explicitly represent both objects and the
            relationships among them.
            
         </p>
         <p>QGraph has some important differences from standard relational
            database query languages such as SQL.
            <a class="indexterm" name="d0e70"></a>
            Most obviously, QGraph is a visual query language. Queries are
            created by drawing the desired graph structure and adding restrictions
            in the form of <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e162"><span class="glossterm">conditions</span></a>, 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e228"><span class="glossterm">constraints</span></a>, and 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e555"><span class="glossterm">numeric annotations</span></a>.
            QGraph includes a grouping and counting mechanism that lets users
            move beyond specifying an exact database structure in a query. Queries
            can contain generalized structural descriptions, enabling a single
            query to match a variety of database structures.
            
         </p>
         <p>Unlike SQL, which returns individual records, QGraph
            queries return 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e749"><span class="glossterm"><span class="emphasis"><em>subgraphs</em></span></span></a>,
            <a class="indexterm" name="d0e89"></a>
            <a class="indexterm" name="d0e93"></a>
            <a class="indexterm" name="d0e99"></a>
            complex objects that correspond to 
            connected sets of objects and relations in the queried database.
            These subgraphs retain the full 
            details of the database objects and links rather than just providing
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e15"><span class="glossterm">aggregations</span></a> such as
            count or average. Subgraphs give users access to both 
            the content and structure of the matches when analyzing and exploring
            relational data.
            
         </p>
         <p>QGraph is used in Proximity,
            <a class="indexterm" name="d0e112"></a>
            an open-source system for
            relational knowledge discovery. Although QGraph is a full-fledged
            query and update language for graph databases, Proximity currently
            only implements
            <a class="indexterm" name="d0e118"></a>
            a large subset (but not all) of QGraph
            functionality. This document focuses on the features of QGraph that
            have been implemented in Proximity. See the technical report
            <em class="citetitle">A Visual Language for Querying and Updating
               Graphs</em> [<a href="bi01.html#blau02"><abbr class="abbrev">Blau, Immerman, and Jensen, 2002</abbr></a>] 
            for a full description of QGraph&#8217;s power, including
            functionality not yet available in the current Proximity
            implementation.<sup>[<a name="d0e129" href="#ftn.d0e129">1</a>]</sup>
            
         </p>
         <p>QGraph is designed to work with graph databases such as those
            used by Proximity. Proximity databases
            <a class="indexterm" name="d0e138"></a>
            <a class="indexterm" name="d0e144"></a>
            are directed, attributed graphs where
            nodes correspond to 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#gloss_object"><span class="glossterm">objects</span></a>
            <a class="indexterm" name="d0e153"></a>
            (typically people, places, and things) and
            binary <a xmlns:exsl="http://exslt.org/common" href="go01.html#gloss_link"><span class="glossterm">links</span></a>
            <a class="indexterm" name="d0e160"></a>
            represent the relationships among objects.  Both objects
            and links can have zero or more 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e35"><span class="glossterm">attributes</span></a>
            <a class="indexterm" name="d0e167"></a>
            and all attributes are set
            valued. For example, in a database containing information about
            movies, an object representing an actor might have a
            <span xmlns:exsl="http://exslt.org/common" class="token" style="font-family: sans-serif">name</span> attribute that has multiple values for the
            actor&#8217;s given and stage names. Similarly, a link connecting an actor
            to a movie might have a <span xmlns:exsl="http://exslt.org/common" class="token" style="font-family: sans-serif">role</span> attribute that could
            contain multiple values when the actor plays multiple roles in a
            film.
         </p>
         <p>QGraph queries return a collection of subgraphs from the
            database that match the structure specified in the query. In
            Proximity, this result set is called a
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e234"><span class="glossterm"><span class="emphasis"><em>container</em></span></span></a>.
            <a class="indexterm" name="d0e185"></a>
            A container&#8217;s subgraphs 
            include the matching objects and links as well as all associated
            attributes for these elements.
         </p>
         <p>To get a sense of QGraph&#8217;s power and flexibility,
            consider a graph database containing information on the movie
            industry.  Such a database might represent movies, actors, directors,
            producers, studios, and awards as objects, with links representing the
            relationships among these entities.
            We might query such a database to identify simple subgraphs such as
            movies and their actors, or more complex subgraphs such as all the
            actors who have worked with a particular director, following links
            through the associated movies.
            The query in <a href="ch01.html#fig_intro_db01_q01" title="Figure&nbsp;1.1.&nbsp;Example query [Intro_DB01_Q01.qg2.xml]">Figure&nbsp;1.1</a> finds
            just such subgraphs.
            
            
         </p>
         <div class="figure"><a name="fig_intro_db01_q01"></a><div class="figure-contents">
               <div class="mediaobject" align="center">
                  <table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0">
                     <tr>
                        <td align="center" valign="bottom"><img src="images/Intro_DB01_Q01.png" align="middle" width="495" alt="Example query [Intro_DB01_Q01.qg2.xml]"></td>
                     </tr>
                  </table>
               </div>
            </div>
            <p xmlns:exsl="http://exslt.org/common" class="title" align="center"><b>Figure&nbsp;1.1.&nbsp;Example query [Intro_DB01_Q01.qg2.xml]</b></p>
         </div>
         <p><br class="figure-break">
            Without explaining the query&#8217;s notation at this point, we observe
            that this query finds directors connected to one or more
            movies, which are in turn are connected to one or more actors.  When the
            query finds a match in the database, it returns the entire
            matching subgraph.
            
         </p>
         <p><a href="ch01.html#fig_intro_db01_q01_res" title="Figure&nbsp;1.2.&nbsp;Example query match">Figure&nbsp;1.2</a> shows the kind of
            subgraph that might get returned as a match for such a query.
            This subgraph shows the director Steven Spielberg and the links from
            him to the movies that he&#8217;s directed. Those movies are in turn linked
            to the actors that appeared in those movies.  (Like other
            examples in this guide, data for this example is intended to be
            representative, but not necessarily complete.)
            
         </p>
         <div class="figure"><a name="fig_intro_db01_q01_res"></a><div class="figure-contents">
               <div class="mediaobject" align="center">
                  <table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0">
                     <tr>
                        <td align="center" valign="bottom"><img src="images/Intro_DB01_Q01_res.png" align="middle" width="630" alt="Example query match"></td>
                     </tr>
                  </table>
               </div>
            </div>
            <p xmlns:exsl="http://exslt.org/common" class="title" align="center"><b>Figure&nbsp;1.2.&nbsp;Example query match</b></p>
         </div>
         <p><br class="figure-break">
            An important feature of this subgraph is that movies are linked to
            different numbers of actors.  We do not need to know, and the query
            does not have to specify, how many actors are linked to each movie.
            Similarly, we do not need to know how many movies Steven Spielberg has
            directed.  The matching subgraph for another director is likely to
            include a different number of movies, and those movies are also likely
            to be linked to varying numbers of actors.  QGraph lets us create a
            simple, easily understood query that matches varying graph
            structures.
         </p>
         <p>By returning complete subgraphs, QGraph provides 
            results particularly well suited for use in relational knowledge
            discovery.  Unlike query languages that require 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e637"><span class="glossterm">propositionalizing</span></a>
            <a class="indexterm" name="d0e221"></a>
            <a class="indexterm" name="d0e227"></a>
            attribute data from related objects, QGraph preserves both the
            explicit relationships among objects and the specific attribute values
            for all objects and links in the subgraph.  Simplistic approaches to
            propositionalizing relational data can result in 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e63"><span class="glossterm">bias</span></a>
            <a class="indexterm" name="d0e234"></a>
            due to hidden autocorrelation
            <a class="indexterm" name="d0e238"></a>
            or degree disparity.
            <a class="indexterm" name="d0e242"></a>
            By preserving the full
            relationship and attribute value data, QGraph facilitates the
            development of models that can detect and adjust for such sources of
            bias.
         </p>
         <p>QGraph includes several mechanisms that together provide a
            powerful system for specifying the graph structures that
            match a QGraph query:
            These mechanisms are introduced in the following chapters:
            
         </p>
         <div class="itemizedlist">
            <ul type="disc" compact>
               <li>
                  <p><a href="ch02.html" title="Chapter&nbsp;2.&nbsp;Query Basics">Chapter&nbsp;2, <i>Query Basics</i></a>
                           describes the basic structure and results of
                           a QGraph query
                           
                  </p>
               </li>
               <li>
                  <p><a href="ch03.html" title="Chapter&nbsp;3.&nbsp;Conditions">Chapter&nbsp;3, <i>Conditions</i></a>
                           introduces 
                           <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e162"><span class="glossterm">conditions</span></a>, which place
                           restrictions on the attribute values of matching objects and links.
                           
                  </p>
               </li>
               <li>
                  <p><a href="ch04.html" title="Chapter&nbsp;4.&nbsp;Numeric Annotations">Chapter&nbsp;4, <i>Numeric Annotations</i></a>
                           describes 
                           <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e555"><span class="glossterm">numeric annotations</span></a>,
                           a powerful and elegant counting feature
                           that serves to limit and group query results.
                           
                  </p>
               </li>
               <li>
                  <p><a href="ch05.html" title="Chapter&nbsp;5.&nbsp;Constraints">Chapter&nbsp;5, <i>Constraints</i></a>
                           describes 
                           <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e228"><span class="glossterm">constraints,</span></a>
                           a global mechanism that relates one object or link to another. 
                           
                  </p>
               </li>
               <li>
                  <p><a href="ch06.html" title="Chapter&nbsp;6.&nbsp;Subqueries">Chapter&nbsp;6, <i>Subqueries</i></a>
                           describes 
                           <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e755"><span class="glossterm">subqueries</span></a>, which
                           enable the treatment of connected subgraphs as a logical unit in
                           defining more complex queries.
                           
                  </p>
               </li>
               <li>
                  <p><a href="apb.html" title="Appendix&nbsp;B.&nbsp;XML Representation">Appendix&nbsp;B, <i>XML Representation</i></a>
                             describes the Proximity XML representation for queries.
                  </p>
               </li>
            </ul>
         </div>
         <p>
            
            
            
            
         </p>
         <div class="sect1" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a name="d0e291"></a>Using the QGraph Guide
                     </h2>
                  </div>
               </div>
            </div>
            <p>A QGraph query is a labeled graph designed to correspond to
               selected structures in the target database.  The vertices
               <a class="indexterm" name="d0e296"></a>
               <a class="indexterm" name="d0e302"></a>
               in the query correspond to objects in the database and the edges
               <a class="indexterm" name="d0e306"></a>
               <a class="indexterm" name="d0e312"></a>
               in the query
               correspond to database links.  This distinction in terminology is
               important and will be maintained throughout this guide&#8212;we use
               the terms <a xmlns:exsl="http://exslt.org/common" href="go01.html#gloss_object"><span class="glossterm"><span class="emphasis"><em>object</em></span></span></a> and 
               <a xmlns:exsl="http://exslt.org/common" href="go01.html#gloss_link"><span class="glossterm"><span class="emphasis"><em>link</em></span></span></a>
               when referring to database entities, and the terms
               <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e824"><span class="glossterm"><span class="emphasis"><em>vertex</em></span></span></a> and 
               <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e310"><span class="glossterm"><span class="emphasis"><em>edge</em></span></span></a> when
               referring to query elements.
            </p>
            <p>Because QGraph is currently only implemented in Proximity,
               this <span class="emphasis"><em>Guide</em></span> includes a discussion of how that
               implementation
               <a class="indexterm" name="d0e337"></a>
               may affect the use and interpretation of QGraph
               queries and results.  When applicable,
               each chapter includes a section that describes factors you should
               be aware of when using QGraph in Proximity, such as how query
               results are stored in the database, efficiency considerations, or
               implementation restrictions.  Information presented in these sections
               is not part of the QGraph specification, but can be useful when
               understanding how QGraph works in Proximity.
            </p>
            <p>An important characteristic of Proximity databases is the lack
               of an inherent sense of object or link 
               <a xmlns:exsl="http://exslt.org/common" href="go01.html#d17e785"><span class="glossterm">types</span></a>.
               Type information
               <a class="indexterm" name="d0e348"></a>
               <a class="indexterm" name="d0e354"></a>
               <a class="indexterm" name="d0e360"></a>
               <a class="indexterm" name="d0e366"></a>
               is stored as an attribute value, just like any other attribute.  When we
               refer to an <span xmlns:exsl="http://exslt.org/common" class="token" style="font-family: sans-serif">actor</span> object or
               <span xmlns:exsl="http://exslt.org/common" class="token" style="font-family: sans-serif">role</span> link, we are using a convenient shorthand
               for &#8220;an object whose &#8216;type&#8217; attribute 
               has a value of &#8216;actor&#8217;&#8201;&#8221; or &#8220;a link
               whose &#8216;kind-of&#8217; attribute has a value of
               &#8216;role.&#8217;&#8201;&#8221;
               Users are free to include or not include type 
               information in a database&#8217;s object and link attributes and to use
               whatever name they chose for an attribute that stores type
               information.  Descriptions in this document may refer to objects and
               links by type (e.g., an <span xmlns:exsl="http://exslt.org/common" class="token" style="font-family: sans-serif">actor</span> object or
               <span xmlns:exsl="http://exslt.org/common" class="token" style="font-family: sans-serif">role</span> link) or value (e.g., the
               <span xmlns:exsl="http://exslt.org/common" class="token" style="font-family: sans-serif">Peter Sellers</span> object) with the
               understanding that this is a 
               shorthand for database objects and links containing attributes that
               represent this &#8220;type&#8221; information or that have the
               specified attribute value.
            </p>
            <p>Databases, QGraph queries, and matches identified by
               executing those queries are all graphs.
               To help distinguish these items, the <span class="emphasis"><em>Guide</em></span>
               follows the following graphic conventions:
            </p>
            <p>Database fragments
               <a class="indexterm" name="d0e396"></a>
               <a class="indexterm" name="d0e402"></a>
               use shaded ovals to represent the objects in the
               database.  Attributes
               <a class="indexterm" name="d0e408"></a>
               are shown next to their corresponding object or link.
               
            </p>
            <div class="mediaobject" align="center">
               <table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0">
                  <tr>
                     <td align="center" valign="bottom"><img src="images/Intro_DatabaseExample.png" align="middle" width="328.50000000000006"></td>
                  </tr>
               </table>
            </div>
            <p>
               
            </p>
            <p>Queries
               <a class="indexterm" name="d0e423"></a>
               <a class="indexterm" name="d0e429"></a>
               use white circles for vertices. Query vertices and edges are labeled.
               
            </p>
            <div class="mediaobject" align="center">
               <table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0">
                  <tr>
                     <td align="center" valign="bottom"><img src="images/Intro_QueryExample.png" align="middle" width="328.50000000000006"></td>
                  </tr>
               </table>
            </div>
            <p>
               
            </p>
            <p>Query results
               <a class="indexterm" name="d0e443"></a>
               <a class="indexterm" name="d0e449"></a>
               use shaded ovals to represent the objects in the resulting
               subgraphs. Subgraph objects and links are labeled with the
               corresponding query labels.  Because QGraph queries return complete
               subgraphs that include all attribute values for the component objects
               and links, we also show attribute values in our graphical
               representations of subgraphs.
               
            </p>
            <div class="mediaobject" align="center">
               <table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0">
                  <tr>
                     <td align="center" valign="bottom"><img src="images/Intro_ResultsExample.png" align="middle" width="328.50000000000006"></td>
                  </tr>
               </table>
            </div>
            <p>
               
            </p>
            <p>The <span class="emphasis"><em>QGraph Guide</em></span> is primarily intended for
               readers with little to no experience using QGraph.  The major
               chapters are heavily oriented around a series of examples, making the
               <span class="emphasis"><em>Guide</em></span> a relatively quick read.  More experienced
               users may want to take advantage of the summary at the end of each
               chapter or return to the <span class="emphasis"><em>Guide</em></span> to improve
               their understanding of specific issues.
            </p>
            <p>Most of the examples
               <a class="indexterm" name="d0e474"></a>
               in the <span class="emphasis"><em>QGraph Guide</em></span>,
               including both database fragments and queries, are available in the
               <code class="filename">$PROX_HOME/doc/user/qgraph/examples</code> directory. When such files are
               available, the figure caption includes the appropriate file name.
               See the <span class="emphasis"><em><span class="phrase"><a href="../../tutorial/HTML/index.html" target="_top">Proximity Tutorial</a></span>
                        
                        
                        </em></span> for complete instructions
               for importing databases and running queries.
            </p>
         </div>
         <div class="footnotes"><br><hr width="100" align="left">
            <div class="footnote">
               <p><sup>[<a name="ftn.d0e129" href="#d0e129">1</a>] </sup>How QGraph evaluates conditions 
                  and constraints on attributes
                  with multiple values has changed since the publication of this
                  technical report.  On this issue, the <em class="citetitle">Proximity QGraph
                     Guide</em> is definitive.
               </p>
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="index.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center">&nbsp;</td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Proximity 4.3 QGraph Guide&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;2.&nbsp;Query Basics</td>
            </tr>
         </table>
      </div>
   </body>
</html>