<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <!-- Part of the open-source Proximity system (see LICENSE for
      copyright and license information). -->
      <title>Running Proximity applications</title>
      <link rel="stylesheet" href="prox.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
      <link rel="start" href="index.html" title="Proximity 4.3 Tutorial">
      <link rel="up" href="ch02s03.html" title="Using Proximity">
      <link rel="prev" href="ch02s03.html" title="Using Proximity">
      <link rel="next" href="ch02s03s03.html" title="DTD files">
   </head>
   <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
      <div xmlns:exsl="http://exslt.org/common" class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <td width="20%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a>&nbsp;
               </td>
               <th width="60%" align="center">Using Proximity</th>
               <td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02s03s03.html">Next</a></td>
            </tr>
         </table>
         <hr>
      </div>
      <div class="sect2" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a name="overview_apps"></a>Running Proximity applications
                  </h3>
               </div>
            </div>
         </div><a class="indexterm" name="d0e774"></a><a class="indexterm" name="d0e781"></a><a class="indexterm" name="idx_shellscripts1"></a><a class="indexterm" name="idx_shellscripts2"></a><a class="indexterm" name="d0e796"></a><a class="indexterm" name="idx_shellscripts3"></a><a class="indexterm" name="d0e808"></a><a class="indexterm" name="idx_batchfiles1"></a><a class="indexterm" name="idx_batchfiles2"></a><p>Proximity supports several mechanisms for executing its
            component applications.  You can run applications from the Proximity Database Browser 
            <a class="indexterm" name="d0e825"></a>
            <a class="indexterm" name="d0e831"></a>
            or from the command line using shell scripts or batch files.  You can
            also access complete Proximity API functionality via Python
            <a class="indexterm" name="d0e837"></a>
            <a class="indexterm" name="d0e841"></a>
            <a class="indexterm" name="d0e845"></a>
            <a class="indexterm" name="d0e851"></a>
            <a class="indexterm" name="d0e857"></a>
            scripts and Java programs. Python 
            scripting is considered to be a Proximity application
            and is supported through both the Proximity Database Browser and running scripts via
            the <span><strong class="command">script.sh</strong></span> shell script or
            <span><strong class="command">script.bat</strong></span> batch file. The
            examples in this tutorial provide instructions for running the
            Proximity applications both from the Proximity Database Browser and from the command line. 
            Executing Proximity applications and code from within Java programs
            is beyond the scope of this tutorial.  Users writing Proximity Java
            programs should refer to the Javadoc documentation available at
            <code class="filename">$PROX_HOME/javadoc/index.html</code>.
         </p>
         <p>Proximity provides the shell scripts and batch files listed in
            the following table.  These files are located in
            <code class="filename">$PROX_HOME/bin</code> and are described in more detail
            in the referenced chapters.
            
            
            
            
            
         </p>
         <div class="informaltable">
            <table border="1" width="100%">
               <colgroup>
                  <col width="20%" align="left">
                  <col width="20%" align="left">
                  <col width="20%" align="left">
                  <col width="26%" align="left">
                  <col width="14%" align="left">
               </colgroup>
               <thead>
                  <tr valign="top">
                     <th align="left" valign="top">Application</th>
                     <th align="left" valign="top">Linux/Mac OS X shell script</th>
                     <th align="left" valign="top">Windows batch file</th>
                     <th align="left" valign="top">Parameters</th>
                     <th align="left" valign="top">Reference</th>
                  </tr>
               </thead>
               <tbody>
                  <tr valign="top">
                     <td align="left" valign="top">Proximity Database Browser</td>
                     <td align="left" valign="top">gui.sh
                               <a class="indexterm" name="d0e906"></a>
                               <a class="indexterm" name="d0e910"></a>
                               <a class="indexterm" name="d0e916"></a>
                               <a class="indexterm" name="d0e922"></a>
                                <a class="indexterm" name="d0e926"></a>
                             
                     </td>
                     <td align="left" valign="top">gui.bat</td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em></td>
                     <td align="left" valign="top"><a href="ch04.html" title="Chapter&nbsp;4.&nbsp;Exploring Data">Ch.&nbsp;4</a></td>
                  </tr>
                  <tr valign="top">
                     <td align="left" valign="top">Query runner</td>
                     <td align="left" valign="top">query.sh
                               <a class="indexterm" name="d0e945"></a>
                               <a class="indexterm" name="d0e949"></a>
                               <a class="indexterm" name="d0e955"></a>
                             
                     </td>
                     <td align="left" valign="top">query.bat</td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>query-file</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>output-container</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>input-container</code></em> (opt.)
                     </td>
                     <td align="left" valign="top"><a href="ch05.html" title="Chapter&nbsp;5.&nbsp;Querying the Database">Ch.&nbsp;5</a></td>
                  </tr>
                  <tr valign="top">
                     <td align="left" valign="top">Python script runner</td>
                     <td align="left" valign="top">script.sh
                               <a class="indexterm" name="d0e987"></a>
                               <a class="indexterm" name="d0e991"></a>
                               <a class="indexterm" name="d0e997"></a>
                             
                     </td>
                     <td align="left" valign="top">script.bat</td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>script-file</code></em></td>
                     <td align="left" valign="top"><a href="ch06.html" title="Chapter&nbsp;6.&nbsp;Using Scripts">Ch.&nbsp;6</a></td>
                  </tr>
                  <tr valign="top">
                     <td align="left" valign="top">XML data import</td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">import-xml.sh</span>
                               <a class="indexterm" name="d0e1022"></a>
                               <a class="indexterm" name="d0e1026"></a>
                               <a class="indexterm" name="d0e1032"></a>
                             
                     </td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">import-xml.bat</span></td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>input-filename</code></em></td>
                     <td align="left" valign="top"><a href="ch03.html" title="Chapter&nbsp;3.&nbsp;Importing and Exporting Proximity Data">Ch.&nbsp;3</a></td>
                  </tr>
                  <tr valign="top">
                     <td align="left" valign="top">XML data export</td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">export-xml.sh</span>
                                <a class="indexterm" name="d0e1058"></a>
                                <a class="indexterm" name="d0e1062"></a>
                                <a class="indexterm" name="d0e1068"></a>
                             
                     </td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">export-xml.bat</span></td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>output-filename</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>exportType</code></em> (opt.)<BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>exportSpec</code></em> (opt.)
                     </td>
                     <td align="left" valign="top"><a href="ch03.html" title="Chapter&nbsp;3.&nbsp;Importing and Exporting Proximity Data">Ch.&nbsp;3</a></td>
                  </tr>
                  <tr valign="top">
                     <td align="left" valign="top">plain text data import</td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">import-text.sh</span>
                               <a class="indexterm" name="d0e1104"></a>
                               <a class="indexterm" name="d0e1108"></a>
                               <a class="indexterm" name="d0e1114"></a>
                             
                     </td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">import-text.bat</span></td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>input-filename</code></em></td>
                     <td align="left" valign="top"><a href="ch03.html" title="Chapter&nbsp;3.&nbsp;Importing and Exporting Proximity Data">Ch.&nbsp;3</a></td>
                  </tr>
                  <tr valign="top">
                     <td align="left" valign="top">plain text data export</td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">export-text.sh</span>
                                <a class="indexterm" name="d0e1140"></a>
                                <a class="indexterm" name="d0e1144"></a>
                                <a class="indexterm" name="d0e1150"></a>
                             
                     </td>
                     <td align="left" valign="top" hyphenate="true"><span class="phrase">export-text.bat</span></td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>output-filename</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>exportType</code></em> (opt.)<BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>exportSpec</code></em> (opt.)
                     </td>
                     <td align="left" valign="top"><a href="ch03.html" title="Chapter&nbsp;3.&nbsp;Importing and Exporting Proximity Data">Ch.&nbsp;3</a></td>
                  </tr>
                  <tr valign="top">
                     <td align="left" valign="top">Database management utilities</td>
                     <td align="left" valign="top">db-util.sh
                               <a class="indexterm" name="d0e1184"></a>
                               <a class="indexterm" name="d0e1188"></a>
                               <a class="indexterm" name="d0e1194"></a>
                             
                     </td>
                     <td align="left" valign="top">db-util.bat</td>
                     <td align="left" valign="top"><em class="replaceable"><code>host:port</code></em><BR xmlns:exsl="http://exslt.org/common">
                                    <em class="replaceable"><code>command</code></em></td>
                     <td align="left" valign="top"><a href="ch03.html" title="Chapter&nbsp;3.&nbsp;Importing and Exporting Proximity Data">Ch.&nbsp;3</a></td>
                  </tr>
               </tbody>
            </table>
         </div>
         <p>
            
         </p>
         <p>For <span><strong class="command">query.sh</strong></span>, specifying the input 
            <a xmlns:exsl="http://exslt.org/common" href="go01.html#d18e234"><span class="glossterm">container</span></a> is optional; the input container
            defaults to the <a xmlns:exsl="http://exslt.org/common" href="go01.html#d18e697"><span class="glossterm">root container</span></a> (the 
            entire database) if it is omitted.
            See <a href="ch05s10.html" title="Querying Containers">&#8220;Querying Containers&#8221;</a> in
            <a href="ch05.html" title="Chapter&nbsp;5.&nbsp;Querying the Database">Chapter&nbsp;5, <i>Querying the Database</i></a>for additional
            information on limiting query scope to the objects and links within an
            existing container.
            
            
         </p>
         <p>For <span><strong class="command">export-xml.sh</strong></span>, specifying the exportType
            and exportSpec is optional; the export defaults to the full database
            if they are omitted.
         </p>
         <p>For <span><strong class="command">db-util</strong></span>, permitted commands are
            
         </p>
         <div class="itemizedlist">
            <ul type="disc" compact>
               <li>
                  <p><strong class="userinput"><code>clear-db</code></strong>
                     <a class="indexterm" name="d0e1246"></a>
                      - clear the database
                  </p>
               </li>
               <li>
                  <p><strong class="userinput"><code>init-db</code></strong>
                     <a class="indexterm" name="d0e1255"></a>
                      - initialize the database
                  </p>
               </li>
               <li>
                  <p><strong class="userinput"><code>test-db</code></strong>
                     <a class="indexterm" name="d0e1264"></a>
                      - test the database configuration
                     and print Proximity version information
                  </p>
               </li>
               <li>
                  <p><strong class="userinput"><code>view-schema</code></strong>
                     <a class="indexterm" name="d0e1273"></a>
                      - print the schema log
                  </p>
               </li>
               <li>
                  <p><strong class="userinput"><code>view-stats</code></strong>
                     <a class="indexterm" name="d0e1285"></a>
                      - print summary statistics for the database
                  </p>
               </li>
            </ul>
         </div>
         <p>
            
         </p>
         <p>All the Proximity shell scripts and batch files require a
            <em class="varname"><code>host:port</code></em> 
            <a class="indexterm" name="d0e1295"></a>
            specification as the first parameter.  The
            parameter specifies the host
            <a class="indexterm" name="d0e1301"></a>
            machine and port 
            <a class="indexterm" name="d0e1305"></a>
            number of the database server in the form 
            
         </p>
         <div class="blockquote">
            <blockquote class="blockquote">
               <p>
                  <em class="replaceable"><code>hostname</code></em>:<em class="replaceable"><code>port_number</code></em>
                  
               </p>
            </blockquote>
         </div>
         <p>
            If you run MonetDB Mars on your local machine and use the default
            <code class="filename">init-mserver.mil</code> script when you start the MonetDB
            server, this correct value for this parameter is
            
         </p>
         <div class="blockquote">
            <blockquote class="blockquote">
               <p><strong class="userinput"><code>localhost:30000</code></strong></p>
            </blockquote>
         </div>
         <p>
            If you are serving the database on <code class="code">localhost</code> (your local
            machine), you can omit that portion of the parameter and use
            
         </p>
         <div class="blockquote">
            <blockquote class="blockquote">
               <p><strong class="userinput"><code>:30000</code></strong></p>
            </blockquote>
         </div>
         <p>
            for the
            <em class="replaceable"><code>hostname</code></em>:<em class="replaceable"><code>port_number</code></em>
            parameter.
            (Remember that you must specify a port number&nbsp;&gt;&nbsp;40000 if
            you are using MonetDB&nbsp;4.6.2.)
            
         </p>
         <p>Proximity shell scripts and batch files set the classpath so
            you do not need to set <code class="envar">CLASSPATH</code> 
            <a class="indexterm" name="d0e1346"></a>
            <a class="indexterm" name="d0e1350"></a>
            to use either the Proximity Database Browser or the shell
            scripts. The Proximity shell scripts and batch files are located in
            <code class="filename">$PROX_HOME/bin</code>. You can either add this directory
            to <code class="envar">PATH</code>,
            <a class="indexterm" name="d0e1363"></a>
            <a class="indexterm" name="d0e1367"></a>
            or specify the path when executing the scripts.
         </p>
         <div xmlns:exsl="http://exslt.org/common" class="sidebar">
            <table border="0" bgcolor="#CCCCFF">
               <tr>
                  <td>
                     <p>Proximity shell scripts and batch files, including the command
                        <a class="indexterm" name="d0e1376"></a>
                        <a class="indexterm" name="d0e1382"></a>
                        to run the Proximity Database Browser, include <code class="filename">proximity.jar</code> 
                        <a class="indexterm" name="d0e1389"></a>
                        in the classpath.
                        If you edit Proximity source files or add new classes, you must recreate
                        <code class="filename">proximity.jar</code> to have the changes available when
                        you use these scripts. If you use the Ant build tool, you can use
                        the &#8220;jar&#8221; target to create
                        <code class="filename">proximity.jar</code>.
                     </p>
                  </td>
               </tr>
            </table>
         </div>
         <div class="example"><a name="d0e1401"></a><p xmlns:exsl="http://exslt.org/common" class="title"><b>Running Proximity applications from the command line</b></p>
            <div class="example-contents">
               <p>In addition to running applications from the Proximity Database Browser, Proximity
                  applications can be executed from the command line.
                  
               </p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><b xmlns:exsl="http://exslt.org/common">Linux and Mac&nbsp;OS&nbsp;X:&nbsp;</b>Execute Proximity applications by
                               executing the corresponding shell script from a terminal
                               window.
                        </p>
                     </li>
                     <li>
                        <p><b xmlns:exsl="http://exslt.org/common">Windows:&nbsp;</b>Execute Proximity applications by executing the
                               corresponding batch file from a DOS window.
                        </p>
                     </li>
                  </ul>
               </div>
               <p>
                  
               </p>
               <p>All Proximity commands interact with a database and thus require
                  that you be serving the database using the MonetDB server. Proximity
                  shell scripts and batch files require the MonetDB 
                  server&#8217;s host and port as the first argument and may require
                  additional arguments.
               </p>
               <p>The examples in the tutorial assume that you are running the MonetDB
                  server on your local machine and using the default port for Proximity.
                  Substitute the appropriate host and port information if
                  you are running the MonetDB server on a different machine or are using a
                  different port.
               </p>
               <p>The general form of a Proximity command, when called from the
                  <code class="filename">$PROX_HOME</code> directory, is:
               </p>
               <p>Linux/Mac&nbsp;OS&nbsp;X:
                  
               </p><pre class="synopsis">&gt; <span><strong class="command">bin/<em class="replaceable"><code>shell_script hostname:port_number arguments</code></em></strong></span>
</pre><p>
                  Windows:
                  
               </p><pre class="synopsis">&gt; <span><strong class="command">bin\<em class="replaceable"><code>batch_file hostname:port_number arguments</code></em></strong></span>
</pre><p>
                  (Remember that you must specify a port number&nbsp;&gt;&nbsp;40000 if
                  you are using MonetDB&nbsp;4.6.2.)
                  
               </p>
            </div>
         </div><br class="example-break"><a class="indexterm" name="d0e1447"></a><a class="indexterm" name="d0e1448"></a><a class="indexterm" name="d0e1449"></a><a class="indexterm" name="d0e1450"></a><a class="indexterm" name="d0e1451"></a></div>
      <div class="navfooter">
         <hr>
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left"><a accesskey="p" href="ch02s03.html">Prev</a>&nbsp;
               </td>
               <td width="20%" align="center"><a accesskey="u" href="ch02s03.html">Up</a></td>
               <td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02s03s03.html">Next</a></td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top">Using Proximity&nbsp;</td>
               <td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
               <td width="40%" align="right" valign="top">&nbsp;DTD files</td>
            </tr>
         </table>
      </div>
   </body>
</html>